export interface NigerianLocation {
  state: string;
  cities: string[];
}

export const NIGERIAN_LOCATIONS: NigerianLocation[] = [
  {
    state: 'Abia',
    cities: ['Aba', 'Umuahia', 'Arochukwu', 'Ohafia', 'Bende'],
  },
  {
    state: 'Adamawa',
    cities: ['Yola', 'Jimeta', 'Mubi', 'Numan', 'Ganye'],
  },
  {
    state: 'Akwa Ibom',
    cities: ['Uyo', 'Eket', 'Ikot Ekpene', 'Oron', 'Abak'],
  },
  {
    state: 'Anambra',
    cities: ['Awka', 'Onitsha', 'Nnewi', 'Ekwulobia', 'Ihiala'],
  },
  {
    state: 'Bauchi',
    cities: ['Bauchi', 'Azare', 'Misau', 'Jama\'are', 'Katagum'],
  },
  {
    state: 'Bayelsa',
    cities: ['Yenagoa', 'Brass', 'Sagbama', 'Ogbia', 'Nembe'],
  },
  {
    state: 'Benue',
    cities: ['Makurdi', 'Gboko', 'Otukpo', 'Katsina-Ala', 'Vandeikya'],
  },
  {
    state: 'Borno',
    cities: ['Maiduguri', 'Biu', 'Bama', 'Dikwa', 'Monguno'],
  },
  {
    state: 'Cross River',
    cities: ['Calabar', 'Ugep', 'Ikom', 'Ogoja', 'Obudu'],
  },
  {
    state: 'Delta',
    cities: ['Asaba', 'Warri', 'Sapele', 'Ughelli', 'Agbor'],
  },
  {
    state: 'Ebonyi',
    cities: ['Abakaliki', 'Afikpo', 'Onueke', 'Ezza', 'Ishielu'],
  },
  {
    state: 'Edo',
    cities: ['Benin City', 'Auchi', 'Ekpoma', 'Uromi', 'Igarra'],
  },
  {
    state: 'Ekiti',
    cities: ['Ado-Ekiti', 'Ikere', 'Ijero', 'Ikole', 'Efon-Alaaye'],
  },
  {
    state: 'Enugu',
    cities: ['Enugu', 'Nsukka', 'Agbani', 'Oji River', 'Udi'],
  },
  {
    state: 'FCT',
    cities: ['Abuja', 'Gwagwalada', 'Kubwa', 'Kuje', 'Nyanya', 'Lugbe', 'Maitama', 'Wuse', 'Garki', 'Asokoro'],
  },
  {
    state: 'Gombe',
    cities: ['Gombe', 'Kumo', 'Deba', 'Billiri', 'Kaltungo'],
  },
  {
    state: 'Imo',
    cities: ['Owerri', 'Orlu', 'Okigwe', 'Oguta', 'Mbaise'],
  },
  {
    state: 'Jigawa',
    cities: ['Dutse', 'Hadejia', 'Gumel', 'Kazaure', 'Ringim'],
  },
  {
    state: 'Kaduna',
    cities: ['Kaduna', 'Zaria', 'Kafanchan', 'Kagoro', 'Saminaka'],
  },
  {
    state: 'Kano',
    cities: ['Kano', 'Wudil', 'Gwarzo', 'Bichi', 'Rano'],
  },
  {
    state: 'Katsina',
    cities: ['Katsina', 'Daura', 'Funtua', 'Malumfashi', 'Dutsin-Ma'],
  },
  {
    state: 'Kebbi',
    cities: ['Birnin Kebbi', 'Argungu', 'Yauri', 'Zuru', 'Jega'],
  },
  {
    state: 'Kogi',
    cities: ['Lokoja', 'Okene', 'Kabba', 'Idah', 'Ankpa'],
  },
  {
    state: 'Kwara',
    cities: ['Ilorin', 'Offa', 'Jebba', 'Lafiagi', 'Patigi'],
  },
  {
    state: 'Lagos',
    cities: [
      'Ikeja',
      'Lagos Island',
      'Victoria Island',
      'Lekki',
      'Ikoyi',
      'Surulere',
      'Yaba',
      'Apapa',
      'Ajah',
      'Epe',
      'Badagry',
      'Ikorodu',
      'Ojo',
      'Mushin',
      'Alimosho',
      'Agege',
      'Ifako-Ijaiye',
      'Kosofe',
      'Oshodi',
      'Isolo',
    ],
  },
  {
    state: 'Nasarawa',
    cities: ['Lafia', 'Keffi', 'Akwanga', 'Nasarawa', 'Doma'],
  },
  {
    state: 'Niger',
    cities: ['Minna', 'Bida', 'Kontagora', 'Suleja', 'Lapai'],
  },
  {
    state: 'Ogun',
    cities: ['Abeokuta', 'Ijebu-Ode', 'Sagamu', 'Ilaro', 'Ota'],
  },
  {
    state: 'Ondo',
    cities: ['Akure', 'Ondo', 'Owo', 'Ikare', 'Ore'],
  },
  {
    state: 'Osun',
    cities: ['Osogbo', 'Ile-Ife', 'Ilesa', 'Ede', 'Iwo'],
  },
  {
    state: 'Oyo',
    cities: ['Ibadan', 'Ogbomosho', 'Oyo', 'Iseyin', 'Saki'],
  },
  {
    state: 'Plateau',
    cities: ['Jos', 'Bukuru', 'Pankshin', 'Shendam', 'Langtang'],
  },
  {
    state: 'Rivers',
    cities: ['Port Harcourt', 'Obio-Akpor', 'Eleme', 'Okrika', 'Bonny'],
  },
  {
    state: 'Sokoto',
    cities: ['Sokoto', 'Tambuwal', 'Gwadabawa', 'Wurno', 'Bodinga'],
  },
  {
    state: 'Taraba',
    cities: ['Jalingo', 'Wukari', 'Bali', 'Gembu', 'Ibi'],
  },
  {
    state: 'Yobe',
    cities: ['Damaturu', 'Potiskum', 'Gashua', 'Nguru', 'Geidam'],
  },
  {
    state: 'Zamfara',
    cities: ['Gusau', 'Kaura Namoda', 'Talata Mafara', 'Bungudu', 'Anka'],
  },
];

// Flatten all cities for autocomplete
export const ALL_CITIES = NIGERIAN_LOCATIONS.flatMap((location) =>
  location.cities.map((city) => ({
    city,
    state: location.state,
    display: `${city}, ${location.state}`,
  }))
);

// Get cities by state
export function getCitiesByState(state: string): string[] {
  const location = NIGERIAN_LOCATIONS.find((loc) => loc.state === state);
  return location?.cities || [];
}

// Search locations (cities and states)
export function searchLocations(query: string, limit: number = 10) {
  const lowerQuery = query.toLowerCase();
  
  // Search cities
  const cityMatches = ALL_CITIES.filter(
    (item) =>
      item.city.toLowerCase().includes(lowerQuery) ||
      item.state.toLowerCase().includes(lowerQuery)
  ).slice(0, limit);

  // Search states
  const stateMatches = NIGERIAN_LOCATIONS.filter((location) =>
    location.state.toLowerCase().includes(lowerQuery)
  )
    .slice(0, 3)
    .map((location) => ({
      city: location.state,
      state: location.state,
      display: location.state,
    }));

  // Combine and deduplicate
  const combined = [...stateMatches, ...cityMatches];
  const unique = Array.from(
    new Map(combined.map((item) => [item.display, item])).values()
  );

  return unique.slice(0, limit);
}
